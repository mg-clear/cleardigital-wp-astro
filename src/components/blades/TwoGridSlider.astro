---

interface Props {

}

const {

} = Astro.props;

---

<style lang="scss">
	@import 'src/styles/variables';
	@import 'src/styles/mixins';

	[is='flynt-slider-posts'] {
		min-height: 100vh;
		overflow: hidden;

		.content {
			@include row;

			&--logos {
				align-items: center;
				margin-top: 6rem;

				@media (min-width: $breakpoint-tablet) {
					margin-top: $component-spacing-tablet;
				}

				@media (min-width: $breakpoint-desktop) {
					margin-top: $component-spacing-desktop;
				}
			}
		}

		.intro {
			@include col(12);

			@media (min-width: $breakpoint-tablet-horizontal) {
				@include col(5);
			}

			p {
				@include typography-blurb;
			}
		}

		.posts {
			display: flex;
			flex-wrap: nowrap;
			margin-top: 4rem;

			@media (min-width: $breakpoint-tablet-horizontal) {
				margin-top: 0;
			}

			&-outer {
				@include col(12);

				@media (min-width: $breakpoint-tablet-horizontal) {
					@include col(6);
					@include offset(1);
				}
			}
		}

		.swiper {
			position: relative;

			@media (min-width: $breakpoint-tablet) {
				clip-path: inset(-100vw -100vw -100vw 0.2rem);
			}

			&-container-initialized {
				.swiper-wrapper {
					display: flex;
					flex-wrap: nowrap;
				}
			}

			&-button {
				&-next {
					right: calc(-100% + 16.66667%) !important;
				}

				&-prev {
					left: calc(-100% + 8.33333%) !important;
				}

				&-prev {
					&.swiper-button-disabled {
						opacity: 1;
					}
				}
			}
		}

		.post {
			height: 30.9rem;
			position: relative;

			@media (min-width: $breakpoint-mobile-horizontal) {
				height: 49.3rem;
			}

			@media (min-width: $breakpoint-tablet-horizontal) {
				height: 51.1rem;
			}

			@media (min-width: $breakpoint-tablet-horizontal) {
				height: 36rem;
			}

			@media (min-width: $breakpoint-desktop) {
				height: 55rem;
			}

			&-outer {
				@include col(11);
				margin-right: $gutter-width * 2;

				@media (min-width: $breakpoint-tablet) {
					margin-right: $gutter-width-tablet * 2;
				}

				@media (min-width: $breakpoint-desktop) {
					margin-right: $gutter-width-desktop * 2;
				}
			}

			&-image {
				display: block;
				height: 100%;
				overflow: hidden;
				position: relative;

				img {
					height: 100%;
					object-fit: cover;
				}
			}

			&-content {
				bottom: 0;
				left: 0;
				position: absolute;

				p {
					@include spacing('medium');
					display: none;

					@media (min-width: $breakpoint-tablet) {
						display: block;
					}
				}
			}
		}

		.logos {
			@include col(12);

			@media (min-width: $breakpoint-tablet-horizontal) {
				@include col(8);
			}

			&-heading {
				@include col(12);

				@media (min-width: $breakpoint-tablet-horizontal) {
					@include col(4);
				}
			}

			&-list {
				@include reset-list;
				@include row;
				align-items: center;

				.logos-item {
					@include col(6);
					align-items: center;
					display: flex;
					justify-content: center;
					margin-top: $spacing-large;

					@media (min-width: $breakpoint-tablet) {
						@include col(3);
					}

					@media (min-width: $breakpoint-tablet-horizontal) {
						margin-top: 0;
					}
				}
			}
		}

		.logo {
			align-items: center;
			display: flex;
			height: 4.6rem;
			max-width: 11.3rem;

			@media (min-width: $breakpoint-tablet) {
				max-width: 15.3rem;
			}

			&-image {
				height: 100%;
				object-fit: contain;
				overflow: hidden;
			}
		}
	}
</style>

<div is="flynt-slider-posts">
	<div class="container">
		<div class="content">
			<div class="intro">
				<h3>Clear Digital news, thoughts, and
					<span class="marker marker--underline">insights</span>.
				</h3>
				<p>Torem ipsum dolor sit amet, consectetur adipiscing at elit. Nunc vulputate libero dolore aliqua et.</p>
				<a href="#" class="button">View all Insights</a>
			</div>
			<div class="posts-outer slider swiper">
				<div class="posts swiper-wrapper">
					<div class="post-outer swiper-slide">
						<article class="post themeDark">
							<picture class="post-image">
								<img class="lazyload" src="/pattern-wavy-blue.webp" width="570" height="540" alt="Post Image">
							</picture>
							<div class="post-content boxPadding">
								<h4 class="text-white">Google Analytics 4 is Coming. Is Your B2B Ready?</h4>
								<p class="body-default text-white mt-4 mt-lg-5">Sed sollicitudin odio ac ornare consequat. Ut massa justo, hendrerit vel nunc non, tempus blandit enim. Vivamus gravida velit lorem ipsum dolor sit amet.</p>
								<a href="#" class="button button--link" data-cursor-expand>Read more</a>
							</div>
						</article>
					</div>
					<div class="post-outer swiper-slide">
						<article class="post themeDark">
							<picture class="post-image">
								<img class="lazyload" src="/pattern-circle-pink.webp" width="570" height="540" alt="Post Image">
							</picture>
							<div class="post-content boxPadding">
								<h4 class="text-white">Google Analytics 4 is Coming. Is Your B2B Ready?</h4>
								<p class="body-default text-white mt-4 mt-lg-5">Sed sollicitudin odio ac ornare consequat. Ut massa justo, hendrerit vel nunc non, tempus blandit enim. Vivamus gravida velit lorem ipsum dolor sit amet.</p>
								<div class="buttons">
									<a href="#" class="button button--link" data-cursor-expand>Read more</a>
								</div>
							</div>
						</article>
					</div>
					<div class="post-outer swiper-slide">
						<article class="post themeDark">
							<picture class="post-image">
								<img class="lazyload" src="/pattern-wavy-blue.webp" width="570" height="540" alt="Post Image">
							</picture>
							<div class="post-content boxPadding">
								<h4 class="text-white">Google Analytics 4 is Coming. Is Your B2B Ready?</h4>
								<p class="body-default text-white mt-4 mt-lg-5">Sed sollicitudin odio ac ornare consequat. Ut massa justo, hendrerit vel nunc non, tempus blandit enim. Vivamus gravida velit lorem ipsum dolor sit amet.</p>
								<div class="buttons">
									<a href="#" class="button button--link" data-cursor-expand>Read more</a>
								</div>
							</div>
						</article>
					</div>
					<div class="post-outer swiper-slide">
						<article class="post themeDark">
							<picture class="post-image">
								<img class="lazyload" src="/pattern-circle-pink.webp" width="570" height="540" alt="Post Image">
							</picture>
							<div class="post-content boxPadding">
								<h4 class="text-white">Google Analytics 4 is Coming. Is Your B2B Ready?</h4>
								<p class="body-default text-white mt-4 mt-lg-5">Sed sollicitudin odio ac ornare consequat. Ut massa justo, hendrerit vel nunc non, tempus blandit enim. Vivamus gravida velit lorem ipsum dolor sit amet.</p>
								<div class="buttons">
									<a href="#" class="button button--link" data-cursor-expand>Read more</a>
								</div>
							</div>
						</article>
					</div>
				</div>
				<div class="swiper-pagination"></div>
				<div class="swiper-button-prev"></div>
				<div class="swiper-button-next"></div>
			</div>
		</div>
		<div class="content content--logos row align-items-center mt-15 mt-lg-36">
			<div class="logos-heading">
				<h3 class="star"><span class="art art--star">Featured in:</span></h3>
			</div>
			<div class="logos">
				<ul class="logos-list">
					<li class="logos-item">
						<div class="logo">
							<img class="logo-image lazyload" src="/logo-forbes.svg" width="153" height="47" alt="Logo">
						</div>
					</li>
					<li class="logos-item">
						<div class="logo">
							<img class="logo-image lazyload" src="/logo-medium.svg" width="153" height="47" alt="Logo">
						</div>
					</li>
					<li class="logos-item">
						<div class="logo">
							<img class="logo-image lazyload" src="/logo-logoipsum.svg" width="153" height="47" alt="Logo">
						</div>
					</li>
					<li class="logos-item">
						<div class="logo">
							<img class="logo-image lazyload" src="/logo-hyperbest.svg" width="153" height="47" alt="Logo">
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>

<script>
	import Swiper from 'swiper'
	import { Navigation, A11y, Autoplay, Pagination } from 'swiper/modules'
	import 'swiper/css'
	import 'swiper/css/autoplay'
	import 'swiper/css/a11y'
	import 'swiper/css/navigation'

	const sliderSelector = '.swiper';
	const slider = document.querySelector(sliderSelector);

	if (slider) {
		const parameters = {
			modules: [Navigation, A11y, Autoplay, Pagination],
			navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev'
      },
      pagination: {
        el: '.swiper-pagination',
        type: 'progressbar'
      },
      slidesPerView: 'auto',
      spaceBetween: 0,
      speed: 400,
      breakpoints: {
        1200: {
          noSwiping: true,
          noSwipingClass: 'swiper-slide'
        }
      }
		}
		
		const swiper = new Swiper(sliderSelector, parameters)
	}
</script>
